<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Sets the character encoding of the document to UTF-8, ensuring proper rendering of international characters and symbols -->
  <meta charset="UTF-8">
  <title>Homepage</title>
  <!-- CSS Link -->
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Boxicons CDN Link, Used to load the icons -->
  <script src="https://kit.fontawesome.com/14f233c83a.js" crossorigin="anonymous"></script>
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
  <div class="sidebar">

    <div class="logo-details">
      <img src="images/logo.png" class="icon">
      <div class="logo_name">Club Mangment</div>
      <i class='bx bx-menu' id="btn"></i> <!-- the class name is taken from boxicons website -->
    </div>


    <ul class="nav-list">
      <li>
        <a href="../home/home.html">
          <i class='bx bx-home'></i>
          <span class="links_name">Home</span>
        </a>
        <span class="tooltip">Home</span>
      </li>


      <li>
        <a href="../weekly-events/weekly-Events.html">
          <i class='bx bx-calendar-event'></i>
          <span class="links_name">Weekly activities</span>
        </a>
        <span class="tooltip">Weekly activities</span>
      </li>


      <li>
        <a href="../Incoming requests/Incoming_requessts.html">
          <i class='bx bxl-telegram'></i>
          <span class="links_name">Event Requests</span>
        </a>
        <span class="tooltip">Event Requests</span>
      </li>


      <li>
        <a href="../incoming post requests/incoming_post_requests.html">
          <i class='bx bx-detail'></i>
          <span class="links_name">Post Requests</span>
        </a>
        <span class="tooltip">Post Requests</span>
      </li>


      <li>
        <a href="../create club page/create_club_page.html">
          <i class='bx bx-plus'></i>
          <span class="links_name">Create Club</span>
        </a>
        <span class="tooltip">Create Club</span>
      </li>


      <li class="profile">
        <div class="profile-details">
          <img src="images/profile.png" alt="profileImg">
          <div class="name_job">
            <div class="name">Micheal salman</div>
            <div class="job">Admin</div>
          </div>
        </div>
        <div>
          <a href="../Log-in page/SKS_Admin.html">
            <i class='bx bx-log-out' id="log_out"></i>
          </a>
        </div>
      </li>


    </ul>
  </div>

  <!-- ======================================== -->

  <!-- homesection start -->
  <section class="home-section">
    
    <div class="nav-grid">
      <div class="text">
        HomePage
      </div>
      
      <div class="icon-1" onclick="toggleNotifi()">  <!-- notfication icon div -->
        <img class = "notfication-icon" src="images/Notification-icon.png" alt="">
      </div>
      <div class="notifi-box" id="box">
        <h2>Notifications </h2>



        <a href="">       <!-- Link to each subpage,for example : home,weekly activites ..... etc -->
          <div class="notifi-item">
            <img class = "box-icon" src="images/notfication1 (1).png" alt="img">
            <div class="text">
               <h4 id="notfication=title">notfication type</h4>
               <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>

        <a href="">     <!-- Link to each subpage,for example : home,weekly activites ..... etc -->
          <div class="notifi-item">  
            <img class = "box-icon" src="images/notfication1 (2).png" alt="img">
            <div class="text">
              <h4 id="notfication=title">notfication type</h4>
               <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>

        <a href="">     <!-- Link to each subpage,for example : home,weekly activites ..... etc -->
          <div class="notifi-item">
            <img class = "box-icon" src="images/notfication1 (3).png" alt="img">
            <div class="text">
              <h4 id="notfication=title">notfication type</h4>
               <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>

        <a href="">      <!-- Link to each subpage,for example : home,weekly activites ..... etc -->
          <div class="notifi-item">
            <img class = "box-icon" src="images/notfication1 (4).png" alt="img">
            <div class="text">
               <h4 id="notfication=title">notfication type</h4>
               <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>

        <a href="">      <!-- Link to each subpage,for example : home,weekly activites ..... etc -->
          <div class="notifi-item">
            <img class = "box-icon" src="images/notfication1 (5).png" alt="img">
            <div class="text">
              <h4 id="notfication=title">notfication type</h4>
              <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>

        <a href="">
          <div class="notifi-item">
            <img class = "box-icon" src="images/notfication1 (6).png" alt="img">
            <div class="text">
               <h4 id="notfication=title">notfication type</h4>
               <p id="notfication-message">more text about the notfication type</p>
            </div> 
          </div>
        </a>
        
      </div>
    </div>
    
  <main>

    <div class="search-container">
        <div class="category-container">
          <div class="select-btn">
            <span class="btn-text">
              select 
            </span>
            <span class="arrow-dwn">
              <i class="fa-solid fa-chevron-down"></i>
            </span>
          </div>
   
          <ul class="list-items">
             <li class="item"> 
               <span class="checkbox">
                   <i class="fa-solid fa-check check-icon"></i>
               </span>
               <span class="item-text">
                 MATH
               </span>
             </li>
          </ul>
        </div>

        <div class="search-form-container">
             <input type="text" class="input" placeholder="search" id="search">
             <button type="submit" class="button" id="submit">Search</button>
         </div>
     </div>
      <div class="gallery" id="club-gallery">
          <!-- Cards will be dynamically inserted here -->
      </div>
  
      
  <script>
    // Function to fetch data from the server and create club cards
    async function fetchchunkedClubs() {
        try {
            // Fetch data from the server
            const response = await fetch('/api/Club/getAllClubs');
            const chunkedClubs = await response.json(); // Parse the JSON response

            // Get the gallery container where cards will be inserted
            const gallery = document.getElementById('club-gallery');

            // Iterate over the chunkedClubs and create a card for each
            chunkedClubs.forEach((clubs, index) => {
              clubs.forEach(club=>{
                // Create a card element
                const card = document.createElement('div');
                card.classList.add('gallery-item', 'grid-colum-span');
                
                // Set the ID for each card, using `club-card-{index}` to distinguish them
                card.id = `club-card-${index}`;

                // Set the card content
                card.innerHTML = `
                    <img src="${club.clubLogo}" alt="${club.clubName}" class="club-logo">
                    <h3>${club.clubName}</h3>
                    <p>${club.clubDescription}</p>
                    <p>President: ${club.clubPresident}</p>
                    <p>Vice President: ${club.clubVicePresident}</p>
                `;

                // Append the card to the gallery
                gallery.appendChild(card);

                // Add a click event listener to the card
                card.addEventListener("click", function() {
                    // Redirect to the club page when the card is clicked
                    window.location.href = "../Club-page/Club-page.html";
                });
            });
          })
        } catch (error) {
            console.error('Error fetching chunkedClubs:', error);
        }
    }

    // Fetch chunkedClubs when the page loads
    window.addEventListener('load', fetchchunkedClubs);
</script>
    </main>
  </div>
  <script src="script.js">
  
  </script>
</body>
</html>